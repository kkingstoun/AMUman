{% extends "master/base.html" %}

{% block title %}Tasks list{% endblock %}
{% block name %}Tasks list{% endblock %}
{% block content %}
<div class="container">
    <table class="table table-striped table-bordered">
        <thead class="thead-dark">
            <tr>
                <th>ID</th>
                <th>NAT NAME</th>
                <th>IP</th>
                <th>Port</th>
                <th>GPU number</th>
                <th>GPU Info</th>
                <th>Status</th>
                <th>Last seen</th>
                <th></th>
                <th></th>
              </tr>
        </thead>
        <tbody>
            {% for node in nodes %}
                <td>{{ node.id }}</td>
                <td>{{ node.name }}</td>
                <td>{{ node.ip }}</td>
                <td>{{ node.port }}</td>
                <td>{{ node.number_of_gpus}}</td>
                <td>{{ node.gpu_info}}</td>
                <td>{{ node.status }}</td>
                <td>{{ node.last_seen }}</td>
                <td>
                    <a href="{% url 'manage_node' node.id %}?action=manage" class="btn btn-primary">Manage node</a>
                </td>
                <td>
                    <a href="{% url 'manage_node' node.id %}?action=remove" class="btn btn-danger">Remove node</a>
                </td> 
            </tr>
            {% empty %}
            <tr>
                <td colspan="6">There is no active nodes.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
